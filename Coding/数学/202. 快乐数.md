# [202. 快乐数](https://leetcode.cn/problems/happy-number/description/)

---

## 题目 (简单)

编写一个算法来判断一个数 n 是不是快乐数。  

「快乐数」 定义为：  

- 对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。
- 然后重复这个过程直到这个数变为 1，也可能是 无限循环 但始终变不到 1。
- 如果这个过程 结果为 1，那么这个数就是快乐数。

如果 n 是 快乐数 就返回 true ；不是，则返回 false 。  

示例 1：  

```markdown
输入：n = 19
输出：true
解释：
1^2 + 9^2 = 82
8^2 + 2^2 = 68
6^2 + 8^2 = 100
1^2 + 0^2 + 0^2 = 1
```

示例 2：  

```markdown
输入：n = 2
输出：false
```

提示：  

- 1 <= n <= 2^31 - 1

---

## 思路

会出现三种情况：

1、最终会得到1
2、最终会进入循环
3、值会越来越大，最后接近无穷大

第三种情况不成立，因为三位数最大999，平方和以后为243，也就是三位数的平方和都小于243，而大于三位数的最后都会降到3位数之内，也就是只可能有无限循环，不可能无限大。

因此，只要不出现循环，最终都会得到1，就是快乐数

---

## 代码

```C++
// 自己写的解法
class Solution {
public:
    int get(int n) {
        int res=0;
        while(n>0){
            int d = n%10;
            n /= 10;
            res += d*d;
        }
        return res;
    }
    bool isHappy(int n) { // 快慢指针判断是否有环
        int slow = n;
        int fast = get(n);
        while(fast != 1 && slow != fast){ // 要么最后到1，要么出现环
            slow = get(slow);
            fast = get(get(fast));
        }
        return fast == 1;
    }
};
```

时间复杂度：**O(logn)**  
空间复杂度：**O(1)**
